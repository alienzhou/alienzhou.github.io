(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{310:function(t,a,s){"use strict";s.r(a);var e=s(22),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ä¸ƒã€é¢„åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒã€é¢„åŠ è½½","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸ƒã€é¢„åŠ è½½")]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/6-runtime/"}},[t._v("ğŸ”™ ä¸Šä¸€ç«™ - è¿è¡Œæ—¶")])],1),t._v(" "),s("p",[t._v("åœ¨ä¹‹å‰çš„æ—…é€”ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†å¾ˆå¤šå…³äºèµ„æºåŠ è½½çš„ä¼˜åŒ–ï¼ŒåŒ…æ‹¬æ€ä¹ˆåŠ å¿«è¿æ¥çš„å»ºç«‹ã€æ€ä¹ˆå‡å°‘åŒ…ä½“å¤§å°ã€æ€ä¹ˆå‡å°‘è¯·æ±‚æ•°ç­‰ã€‚ä½†è¿˜æœ‰ä¸€ç§å˜ç›¸åŠ å¿«åŠ è½½é€Ÿåº¦çš„æŠ€æœ¯ â€”â€” é¢„åŠ è½½ã€‚")]),t._v(" "),s("p",[t._v("é¢„åŠ è½½ç›¸å½“äºæ˜¯å¿«ç”¨æˆ·ä¸€æ­¥ï¼Œåœ¨ç©ºé—²çš„æ—¶å€™å°±æŠŠç”¨æˆ·å³å°†ç”¨åˆ°çš„èµ„æºåŠ è½½å®Œï¼Œç­‰ç”¨æˆ·å®é™…éœ€è¦ä½¿ç”¨æ—¶ï¼Œèµ„æºå·²ç»å­˜åœ¨åœ¨æœ¬åœ°ï¼Œè‡ªç„¶å°±è·³è¿‡äº†æ•´ä¸ªåŠ è½½çš„ç­‰å¾…æ—¶é—´ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ã€Œæ€§èƒ½ä¼˜åŒ–ä¹‹æ—…ã€çš„æœ€åä¸€ç«™ï¼Œæˆ‘ä¼šç»™ä½ ä»‹ç»ä¸€äº›é¢„åŠ è½½æŠ€æœ¯ï¼ŒåŒ…æ‹¬ä½¿ç”¨è§ˆå™¨æä¾›çš„èƒ½åŠ›ï¼Œæˆ–è€…å·§ç”¨ JavaScript ä¸­çš„ç›¸å…³ APIã€‚æ­¤å¤–ï¼Œé™¤äº†é¢„åŠ è½½æŠ€æœ¯ï¼Œé¢„åŠ è½½çš„ä¸€å¤§æ ¸å¿ƒé—®é¢˜è¿˜åœ¨äºé¢„åŠ è½½ç­–ç•¥ï¼Œå³å¦‚ä½•åˆ¤æ–­èµ„æºæ˜¯å¦éœ€è¦é¢„åŠ è½½ä»¥åŠåˆé€‚åŠ è½½ï¼Œä»¥ä¿è¯æœ€é«˜çš„æ•ˆç‡ã€‚")]),t._v(" "),s("h2",{attrs:{id:"_1-é¢„åŠ è½½æŠ€æœ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-é¢„åŠ è½½æŠ€æœ¯","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. é¢„åŠ è½½æŠ€æœ¯")]),t._v(" "),s("h3",{attrs:{id:"_1-1-resource-hints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-resource-hints","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1. Resource Hints")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.w3.org/TR/resource-hints/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource Hints"),s("OutboundLink")],1),s("sup",[t._v("[1]")]),t._v(" æ˜¯ä¸€ç§é¢„åŠ è½½ç›¸å…³çš„æ ‡å‡†ï¼Œå®ƒå‘Šè¯‰æµè§ˆå™¨å“ªäº›æºä¸‹çš„èµ„æºæˆ‘ä»¬çš„ Web åº”ç”¨éœ€è¦è·å–ï¼Œå“ªäº›èµ„æºåœ¨ä¹‹åçš„æ“ä½œæˆ–æµè§ˆæ—¶éœ€è¦è¢«ä½¿ç”¨ï¼Œä»è€Œè®©æµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œä¸€äº›é¢„å…ˆè¿æ¥æˆ–é¢„å…ˆåŠ è½½æ“ä½œã€‚Resource Hints æ ‡å‡†åŒ…æ‹¬ DNS Prefetchã€Preconnectã€Prefetch ä¸ Prerenderã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸ Resource Hints ç±»ä¼¼çš„ Preload æˆ‘ä»¬ä¹Ÿä¼šåœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å‘èµ·è¯·æ±‚éƒ¨åˆ†æˆ‘ä»¬å·²ç»ä»‹ç»äº†"),s("router-link",{attrs:{to:"/2-request/#2-dns-è§£æ"}},[t._v("å¦‚ä½•ä½¿ç”¨ DNS Prefetch æ¥é¢„è§£æ DNS")]),t._v("ã€"),s("router-link",{attrs:{to:"/2-request/#3-é¢„å…ˆå»ºç«‹è¿æ¥"}},[t._v("å¦‚ä½•ä½¿ç”¨ Preconnect æ¥é¢„å…ˆå»ºç«‹è¿æ¥")]),t._v("ã€‚æ‰€ä»¥ä¸‹é¢ä¼šå…¶ä»–ä¸‰å—ï¼šPrefetchã€Prerenderã€Preloadã€‚")],1),t._v(" "),s("h4",{attrs:{id:"_1-1-1-prefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-prefetch","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.1. Prefetch")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥æŠŠ Prefetch ç†è§£ä¸ºèµ„æºé¢„è·å–ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ç”¨ Prefetch æ¥æŒ‡å®šåœ¨ç´§æ¥ç€ä¹‹åçš„æ“ä½œæˆ–æµè§ˆä¸­éœ€è¦ä½¿ç”¨åˆ°çš„èµ„æºï¼Œè®©æµè§ˆå™¨æå‰è·å–ã€‚ç”±äºä»…ä»…æ˜¯æå‰è·å–èµ„æºï¼Œå› æ­¤æµè§ˆå™¨ä¸ä¼šå¯¹èµ„æºè¿›è¡Œé¢„å¤„ç†ï¼Œå¹¶ä¸”åƒ CSS æ ·å¼è¡¨ã€JavaScript è„šæœ¬è¿™æ ·çš„èµ„æºæ˜¯ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå¹¶åº”ç”¨äºå½“å‰æ–‡æ¡£çš„ã€‚å…¶ä¸­ "),s("code",[t._v("as")]),t._v(" å±æ€§ç”¨äºæŒ‡å®šèµ„æºçš„ç±»å‹ï¼Œä¸ Preload è§„èŒƒä¸€è‡´ï¼Œ"),s("a",{attrs:{href:"https://www.w3.org/TR/preload/#as-attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŸºæœ¬æ¶µç›–äº†æ‰€æœ‰èµ„æºç±»å‹"),s("OutboundLink")],1),s("sup",[t._v("[2]")]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prefetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/prefetch.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"_1-1-2-prerender"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-prerender","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.2. Prerender")]),t._v(" "),s("p",[t._v("Prerender æ¯” Prefetch æ›´è¿›ä¸€æ­¥ï¼Œå¯ä»¥ç²—ç•¥åœ°ç†è§£ä¸ä»…ä¼šé¢„è·å–ï¼Œè¿˜ä¼šé¢„æ‰§è¡Œã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("The prerender link relation type is used to identify a resource that might be required by the next navigation, and that the user agent SHOULD fetch and execute.")])]),t._v(" "),s("p",[t._v("å¦‚æœä½ æŒ‡å®š Prerender ä¸€ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆå®ƒä¾èµ–çš„å…¶ä»–èµ„æºï¼Œåƒ "),s("code",[t._v("<script>")]),t._v("ã€"),s("code",[t._v("<link>")]),t._v(" ç­‰é¡µé¢æ‰€éœ€èµ„æºä¹Ÿå¯èƒ½ä¼šè¢«ä¸‹è½½ä¸å¤„ç†ã€‚ä½†æ˜¯é¢„å¤„ç†ä¼šåŸºäºå½“å‰æœºå™¨ã€ç½‘ç»œæƒ…å†µçš„ä¸åŒè€Œè¢«ä¸åŒç¨‹åº¦åœ°æ¨è¿Ÿã€‚ä¾‹å¦‚ï¼Œä¼šæ ¹æ® CPUã€GPU å’Œå†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œä»¥åŠè¯·æ±‚æ“ä½œçš„å¹‚ç­‰æ€§è€Œé€‰æ‹©ä¸åŒçš„ç­–ç•¥æˆ–é˜»æ­¢è¯¥æ“ä½œã€‚")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prerender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//sample.com/nextpage.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"_1-1-3-preload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-preload","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.3. Preload")]),t._v(" "),s("p",[t._v("åœ¨é‡åˆ°éœ€è¦ Preload çš„èµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¼š "),s("strong",[t._v("ç«‹åˆ»")]),t._v(" è¿›è¡Œé¢„è·å–ï¼Œå¹¶å°†ç»“æœæ”¾åœ¨å†…å­˜ä¸­ï¼Œèµ„æºçš„è·å–ä¸ä¼šå½±å“é¡µé¢ parse ä¸ load äº‹ä»¶çš„è§¦å‘ã€‚ç›´åˆ°å†æ¬¡é‡åˆ°è¯¥èµ„æºçš„ä½¿ç”¨æ ‡ç­¾æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œã€‚ç”±äºæˆ‘ä»¬ä¼šå°† "),s("code",[t._v("<script>")]),t._v(" æ ‡ç­¾ç½®äº "),s("code",[t._v("<body>")]),t._v(" åº•éƒ¨æ¥ä¿è¯æ€§èƒ½ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘åœ¨ "),s("code",[t._v("<head>")]),t._v(" æ ‡ç­¾ä¸­é€‚å½“æ·»åŠ è¿™äº›èµ„æºçš„ Preload æ¥åŠ é€Ÿé¡µé¢çš„åŠ è½½ä¸æ¸²æŸ“ã€‚")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./nextpage.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("åˆ°è¿™é‡Œå¤§å®¶è‚¯å®šä¼šå¥½å¥‡ï¼ŒPreload ä¸ Prefetch æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå®ƒä»¬éå¸¸å®¹æ˜“æ··æ·†ï¼Œåœ¨æ ‡å‡†é‡Œæœ‰è¿™ä¹ˆä¸€æ®µè¯è§£é‡Šä¸¤è€…åŒºåˆ«ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("The application can use the preload keyword to initiate early, high-priority, and non-render-blocking fetch of a CSS resource that can then be applied by the application at appropriate time.")])]),t._v(" "),s("p",[t._v("ä¸ Prefetch ç›¸æ¯”ï¼ŒPreload ä¼š"),s("a",{attrs:{href:"https://www.w3.org/TR/preload/#x2.link-type-preload",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¼ºåˆ¶æµè§ˆå™¨ç«‹å³è·å–èµ„æºï¼Œå¹¶ä¸”è¯¥è¯·æ±‚å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§"),s("OutboundLink")],1),t._v("ï¼ˆmandatory and high-priorityï¼‰ï¼Œå› æ­¤å»ºè®®å¯¹ä¸€äº›å½“å‰é¡µé¢ä¼šé©¬ä¸Šç”¨åˆ°èµ„æºä½¿ç”¨ Preloadï¼›ç›¸å¯¹çš„ï¼ŒPrefetch çš„èµ„æºè·å–åˆ™æ˜¯å¯é€‰ä¸è¾ƒä½ä¼˜å…ˆçº§çš„ï¼Œå…¶æ˜¯å¦è·å–å®Œå…¨å–å†³äºæµè§ˆå™¨çš„å†³å®šï¼Œé€‚ç”¨äºé¢„è·å–å°†æ¥å¯èƒ½ä¼šç”¨åˆ°çš„èµ„æºã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å¦‚æœå¯¹ Resource Hints æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­"),s("a",{attrs:{href:"https://juejin.im/post/5b4b66f0f265da0f9155feb6",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿›ä¸€æ­¥äº†è§£å®ƒä»¬"),s("OutboundLink")],1),s("sup",[t._v("[3]")]),t._v("ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_1-1-4-webpack-ä¸­çš„ä½¿ç”¨æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-webpack-ä¸­çš„ä½¿ç”¨æ–¹å¼","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.4. webpack ä¸­çš„ä½¿ç”¨æ–¹å¼")]),t._v(" "),s("p",[t._v("é¢„åŠ è½½å¯ä»¥é…åˆ code split æ¥ä½¿ç”¨ï¼Œå¯ä»¥åœ¨é™ä½åˆå§‹åŠ è½½é‡çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¿è¯æŒ‰éœ€åŠ è½½æ—¶çš„ä½“éªŒã€‚"),s("a",{attrs:{href:"https://medium.com/webpack/link-rel-prefetch-preload-in-webpack-51a52358f84c",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨ webpack ä¸­åº”ç”¨é¢„åŠ è½½"),s("OutboundLink")],1),s("sup",[t._v("[4]")]),t._v("éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ dynamic import ä¸­æ·»åŠ ç›¸åº”æ³¨é‡Šï¼Œwebpack å°±ä¼šçŸ¥é“ä½ éœ€è¦å¯¹è¿™ä¸ª chunk è¿›è¡Œé¢„åŠ è½½ã€‚")]),t._v(" "),s("div",{staticClass:"language-JavaScript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prefetch")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpackPrefetch: true */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sub1.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// preload")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpackPreload: true */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sub2.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_1-2-åŸºäº-javascript-çš„é¢„åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-åŸºäº-javascript-çš„é¢„åŠ è½½","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2. åŸºäº JavaScript çš„é¢„åŠ è½½")]),t._v(" "),s("p",[t._v("ä¸Šé¢æåˆ°äº†åŸºäº Resource Hints çš„é¢„åŠ è½½æŠ€æœ¯ï¼Œå®ƒå…¶å®åƒæ˜¯ä¸€ç§å£°æ˜å¼æŠ€æœ¯ï¼šä½ æå‡ºä½ çš„é¢„åŠ è½½éœ€æ±‚ï¼Œæµè§ˆå™¨æ ¹æ®è‡ªèº«çŠ¶æ€ï¼Œé€‰æ‹©åˆé€‚çš„æ—¶å€™é¢„åŠ è½½ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ åœ¨"),s("a",{attrs:{href:"https://caniuse.com/#search=resource%20hint",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸å…¼å®¹ Resource Hints"),s("OutboundLink")],1),t._v(" çš„æµè§ˆå™¨ä¸Šè¿›è¡Œé¢„åŠ è½½ï¼Œæˆ–è€…å¸Œæœ›æœ‰â€œæ›´å¼ºç¡¬çš„â€é¢„åŠ è½½æ§åˆ¶ï¼Œä½ å¯èƒ½ä¼šå¸Œæœ›ä½¿ç”¨ä¸€äº› JavaScript ä¸­çš„åŠŸèƒ½æ¥â€œå·§å¦™â€åœ°è¿›è¡Œé¢„åŠ è½½ã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚å¯¹äºå›¾ç‰‡ï¼Œ")]),t._v(" "),s("div",{staticClass:"language-JavaScript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" img "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/static/img/prefetch.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("ä¸Šé¢çš„æ–¹æ³•ä¼šè§¦å‘æµè§ˆå™¨åŠ è½½å›¾ç‰‡ï¼Œç„¶åç­‰åˆ°ç”¨æˆ·éœ€è¦æµè§ˆæ—¶ï¼Œå†å°†å…¶æ’å…¥åˆ°é¡µé¢å³å¯ã€‚")]),t._v(" "),s("p",[t._v("å¯¹äº JavaScript å’Œ CSS å¯ä»¥åŠ¨æ€æ·»åŠ  "),s("code",[t._v("<script>")]),t._v(" å’Œ "),s("code",[t._v("<link>")]),t._v(" æ ‡ç­¾ï¼Œä¸è¿‡è¦æ³¨æ„å®ƒä»¬åªæœ‰åœ¨æ·»åŠ åˆ°é¡µé¢æ—¶æµè§ˆå™¨æ‰ä¼šåŠ è½½ï¼ˆå°‘æ•°è€å¼æµè§ˆå™¨ä¸Šè¿™å—è¡¨ç°ä¼šä¸å¤ªä¸€æ ·ï¼‰ï¼Œç”±äºæ·»åŠ åˆ°é¡µé¢ååŠ è½½å®Œä¼šæ‰§è¡Œè¯¥èµ„æºï¼Œæ‰€ä»¥è¦é¿å…äº§ç”Ÿä¸éœ€è¦çš„å‰¯ä½œç”¨ï¼ˆå¦åˆ™å°±ä¸æ˜¯é¢„åŠ è½½äº†ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ å¸Œæœ›é€šè¿‡ JavaScript æ¥è¿›è¡Œé¢„åŠ è½½ï¼Œå¯ä»¥ä½¿ç”¨ "),s("a",{attrs:{href:"https://github.com/CreateJS/PreloadJS",target:"_blank",rel:"noopener noreferrer"}},[t._v("PreloadJS"),s("OutboundLink")],1),t._v(" è¿™ä¸ªåº“ï¼Œå®ƒæä¾›äº†åŒ…æ‹¬è„šæœ¬ã€æ ·å¼ã€å›¾ç‰‡ã€å­—ä½“ã€SVGç­‰"),s("a",{attrs:{href:"https://github.com/CreateJS/PreloadJS/tree/master/src/preloadjs/loaders",target:"_blank",rel:"noopener noreferrer"}},[t._v("å„ç±»èµ„æºçš„é¢„åŠ è½½å™¨"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("h2",{attrs:{id:"_2-è§†é¢‘é¢„åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-è§†é¢‘é¢„åŠ è½½","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. è§†é¢‘é¢„åŠ è½½")]),t._v(" "),s("p",[t._v("è§†é¢‘é¢„åŠ è½½æŠ€æœ¯å¯ä»¥æœ‰æ•ˆæé«˜è§†é¢‘æ’­æ”¾çš„ç”¨æˆ·ä½“éªŒã€‚åœ¨ "),s("a",{attrs:{href:"https://developers.google.com/web/fundamentals/media/fast-playback-with-video-preload",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fast Playback with Video Preload"),s("OutboundLink")],1),s("sup",[t._v("[5]")]),t._v(" ä¸­æåˆ°äº†ä¸‰ç§è§†é¢‘é¢„åŠ è½½æ–¹å¼ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-1-ä¸ºè§†é¢‘æ·»åŠ -preload-å±æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ä¸ºè§†é¢‘æ·»åŠ -preload-å±æ€§","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1. ä¸ºè§†é¢‘æ·»åŠ  "),s("code",[t._v("preload")]),t._v(" å±æ€§")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ "),s("code",[t._v("preload")]),t._v(" å±æ€§å¯ä»¥è®©æµè§ˆå™¨é¢„åŠ è½½ç›¸åº”çš„å†…å®¹ã€‚å…¶å–å€¼ä¸ä½œç”¨å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å€¼")]),t._v(" "),s("th",[t._v("ä½œç”¨")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("none")]),t._v(" "),s("td",[t._v("ä¸è½½å…¥è§†é¢‘ï¼ˆå³ä¸é¢„åŠ è½½ï¼‰")])]),t._v(" "),s("tr",[s("td",[t._v("meta")]),t._v(" "),s("td",[t._v("è½½å…¥å…ƒæ•°æ®ï¼ˆæ—¶é•¿ã€å°ºå¯¸ã€æ–‡å­—è½¨é“ï¼‰")])]),t._v(" "),s("tr",[s("td",[t._v("auto")]),t._v(" "),s("td",[t._v("åŠ è½½æ•´ä¸ªè§†é¢‘")])])])]),t._v(" "),s("p",[t._v("æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥è®¾ç½® "),s("code",[t._v("poster")]),t._v(" å±æ€§ï¼Œå®ƒè§„å®šè§†é¢‘ä¸‹è½½æ—¶æˆ–ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’®å‰æ’­æ”¾å™¨ä¸Šæ˜¾ç¤ºçš„å›¾åƒã€‚ä¸€ç§æ¨èçš„æ–¹å¼æ˜¯è®¾ç½® "),s("code",[t._v("poster")]),t._v(" ä¸ "),s("code",[t._v("preload: meta")]),t._v("ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€å®šçš„æ’­æ”¾é¢„è§ˆä¿¡æ¯çš„åŒæ—¶é¿å…è¿‡å¤šçš„é¢„åŠ è½½æµé‡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-2-ä½¿ç”¨-preload-link"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ä½¿ç”¨-preload-link","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2. ä½¿ç”¨ Preload Link")]),t._v(" "),s("p",[t._v("è¿™ä¸€ç‚¹å·²ç»åœ¨ç¬¬ä¸€éƒ¨åˆ†æåˆ°äº†ï¼Œå¯ä»¥ä½¿ç”¨")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/static/sample.mp4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è¿›è¡Œèµ„æºçš„é¢„åŠ è½½ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-3-ä½¿ç”¨-javascript-è¿›è¡Œè‡ªå®šä¹‰çš„-buffer-æ“ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ä½¿ç”¨-javascript-è¿›è¡Œè‡ªå®šä¹‰çš„-buffer-æ“ä½œ","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.3. ä½¿ç”¨ JavaScript è¿›è¡Œè‡ªå®šä¹‰çš„ Buffer æ“ä½œ")]),t._v(" "),s("p",[t._v("å¯ä»¥é€šè¿‡ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP "),s("code",[t._v("Range")]),t._v(" è¯·æ±‚å¤´"),s("OutboundLink")],1),t._v("æ¥è·å–å¼€å§‹çš„ä¸€å°æ®µè§†é¢‘æ•°æ®ï¼Œç„¶åä½¿ç”¨ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaSource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaSource")]),s("OutboundLink")],1),t._v(" API æ¥è¿›è¡Œè§†é¢‘åª’ä½“æ•°æ®çš„æš‚å­˜ä¸æ’­æ”¾ã€‚")]),t._v(" "),s("p",[t._v("ä¸‹é¢è¿™æ®µç¤ºä¾‹ä»£ç æ‘˜è‡ª "),s("a",{attrs:{href:"https://developers.google.com/web/fundamentals/media/fast-playback-with-video-preload#manual_buffering",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fast Playback with Video Preload - Manual buffering"),s("OutboundLink")],1),t._v("ï¼Œå®ƒå¯ä»¥å®ç°è§†é¢‘æ•°æ®çš„é¢„åŠ è½½ï¼Œæ›´å¤šç›¸å…³å®ç°å¯ä»¥å‚è§å…¶ä¸­å†…å®¹ã€‚")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("video")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("controls")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("video")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mediaSource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createObjectURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mediaSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mediaSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sourceopen'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sourceOpen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" once"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sourceOpen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("revokeObjectURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sourceBuffer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mediaSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSourceBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video/webm; codecs=\"vp09.00.10.08\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fetch beginning of the video by setting the Range HTTP request header.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file.webm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bytes=0-567139'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("arrayBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                sourceBuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                sourceBuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updateend'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" updateEnd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" once"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Video is now ready to play!")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bufferedSeconds "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffered"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffered"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bufferedSeconds "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' seconds of video are ready to play!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fetch the next segment of video when user starts playing the video.")]),t._v("\n        video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'playing'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fetchNextSegment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" once"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchNextSegment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file.webm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bytes=567140-1196488'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("arrayBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sourceBuffer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mediaSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sourceBuffers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                sourceBuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TODO: Fetch further segment and append it.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br")])]),s("h2",{attrs:{id:"_3-é¢„åŠ è½½çš„ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-é¢„åŠ è½½çš„ç­–ç•¥","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. é¢„åŠ è½½çš„ç­–ç•¥")]),t._v(" "),s("p",[t._v("é¢„åŠ è½½ä¸€èˆ¬éƒ½ä¼šé¢ä¸´ä¸€äº›çŸ›ç›¾ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é¢„åŠ è½½èµ„æºè¿‡å¤šï¼Œå¯èƒ½å¯¼è‡´æµé‡æ¶ˆè€—è¿‡å¤§ï¼Œå ç”¨æ­£å¸¸è¯·æ±‚çš„é€šé“ï¼›")]),t._v(" "),s("li",[t._v("é¢„åŠ è½½èµ„æºè¿‡å°‘ï¼Œå¯èƒ½å¯¼è‡´è¦†ç›–ç‡å¤ªä½ï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºç”¨æˆ·æ— æ³•äº«å—åˆ°é¢„åŠ è½½æ•ˆæœã€‚")])]),t._v(" "),s("p",[t._v("è®¾è®¡ä¸€ä¸ªé«˜æ•ˆçš„é¢„åŠ è½½ç­–ç•¥æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„é—®é¢˜ ï¼Œè¿™é‡Œåªç®€å•ä»‹ç»ä¸€äº›å·¥å…·ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-1-quicklink"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-quicklink","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1. quicklink")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/GoogleChromeLabs/quicklink",target:"_blank",rel:"noopener noreferrer"}},[t._v("quicklink"),s("OutboundLink")],1),t._v(" æ˜¯ GoogleChromeLabs æ¨å‡ºçš„è½»é‡çº§åº“ï¼Œä½¿ç”¨ Resource Hints è¿›è¡Œé¢„åŠ è½½ï¼Œå¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ä¼šå›é€€åˆ° XHR æ¨¡å¼ã€‚å®ƒçš„ç­–ç•¥å…¶å®éå¸¸ç›´æ¥ï¼Œæ ¸å¿ƒå°±æ˜¯å½“é“¾æ¥è¿›å…¥åˆ°è§†å£åï¼Œä¼šå¯¹å…¶è¿›è¡Œé¢„åŠ è½½ã€‚")]),t._v(" "),s("p",[t._v("å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥åŠ ä¸€äº›å…¶ä»–ç­–ç•¥ï¼Œä¾‹å¦‚è®¾å®šä¸€ä¸ª 200ms çš„åœç•™é˜ˆå€¼ã€‚æ€»ä½“è€Œè¨€ï¼Œå®ƒçš„ç­–ç•¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ›´åƒæ˜¯ä¸ºå‰ç«¯é¢„åŠ è½½æä¾›ä¸€ä¸ªæ€è·¯ã€‚å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥ä»è¿™ç¯‡æ–‡ç« ä¸­äº†è§£ "),s("a",{attrs:{href:"https://juejin.im/post/5c21f8435188256d12597789",target:"_blank",rel:"noopener noreferrer"}},[t._v("quicklink çš„å®ç°ç»†èŠ‚"),s("OutboundLink")],1),s("sup",[t._v("[6]")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-2-guess-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-guess-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2. Guess.js")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/guess-js/guess",target:"_blank",rel:"noopener noreferrer"}},[t._v("Guess.js"),s("OutboundLink")],1),t._v(" åˆ™æ˜¯ä¸€ä¸ªæ›´ä¸ºå®Œå¤‡çš„å·¥å…·åŒ…ã€‚å®ƒä¼šç»“åˆå‰ç«¯è®¿é—®ä¸æ‰“ç‚¹çš„æ•°æ®è¿›è¡Œç»Ÿè®¡ï¼Œç”šè‡³åº”ç”¨ä¸€äº›æœºå™¨å­¦ä¹ çš„æ¨¡å‹ï¼Œæ¥æä¾›ä¸€ä¸ªæ›´ç²¾ç»†åŒ–ã€æ›´å‡†ç¡®çš„é¢„åŠ è½½ç­–ç•¥ã€‚åŒæ—¶ï¼Œåœ¨é¢„åŠ è½½ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥å¸®åŠ©å®ç°æœ€ä¼˜çš„æ‰“åŒ…æ–¹å¼ã€åŠ è½½è·¯å¾„ç­‰ã€‚æ ¸å¿ƒå°±æ˜¯é€šè¿‡å¤§é‡çš„å®é™…ç”¨æˆ·æ•°æ®ï¼Œæ¥å¸®åŠ©å‰ç«¯æ€§èƒ½ä¼˜åŒ–åšå†³ç­–ä¸é¢„æµ‹ã€‚")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥æŸ¥çœ‹ "),s("a",{attrs:{href:"https://github.com/guess-js/guess",target:"_blank",rel:"noopener noreferrer"}},[t._v("Guess.js Repo"),s("OutboundLink")],1),t._v(" æ¥è¿›ä¸€æ­¥äº†è§£å®ƒï¼Œæˆ–è€…é˜…è¯»"),s("a",{attrs:{href:"https://blog.mgechev.com/2018/05/09/introducing-guess-js-data-driven-user-experiences-web/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ç¯‡ä»‹ç»æ–‡ç« "),s("OutboundLink")],1),s("sup",[t._v("[7]")]),t._v("ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("å…³äºé¢„åŠ è½½çš„è¯é¢˜å°±åˆ°è¿™äº†ï¼Œæˆ‘ä»¬çš„ã€Œå‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹æ—…ã€ä¹Ÿæ¥è¿‘å°¾å£°äº†ã€‚æœ€åä¸€ç«™ï¼Œè®©æˆ‘ä»¬å†å›æ¥ä»æ•´ä½“ç»´åº¦èŠèŠå‰ç«¯æ€§èƒ½ä¼˜åŒ–å§ã€‚")]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/END.html"}},[t._v("ä¸‹ä¸€ç«™ - èŠèŠå‰ç«¯æ€§èƒ½ä¼˜åŒ– ğŸ”œ")])],1),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/resource-hints/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource Hints (W3C)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/preload/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Preload (W3C)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5b4b66f0f265da0f9155feb6",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨Resource Hintæå‡é¡µé¢åŠ è½½æ€§èƒ½ä¸ä½“éªŒ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://medium.com/webpack/link-rel-prefetch-preload-in-webpack-51a52358f84c",target:"_blank",rel:"noopener noreferrer"}},[t._v("<link rel=â€prefetch/preloadâ€> in webpack"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developers.google.com/web/fundamentals/media/fast-playback-with-video-preload",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fast Playback with Video Preload"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5c21f8435188256d12597789",target:"_blank",rel:"noopener noreferrer"}},[t._v("quicklinkï¼šå®ç°åŸç†ä¸ç»™å‰ç«¯çš„å¯å‘"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.mgechev.com/2018/05/09/introducing-guess-js-data-driven-user-experiences-web/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Introducing Guess.js - a toolkit for enabling data-driven user-experiences on the Web"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://css-tricks.com/prefetching-preloading-prebrowsing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prefetching, preloading, prebrowsing"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Preload: What Is It Good For?"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://web.dev/predictive-prefetching/#predictive-prefetching-with-guess.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Faster web navigation with predictive prefetching"),s("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=n.exports}}]);